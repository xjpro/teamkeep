@model Teamkeep.Models.Login 
<!DOCTYPE html>
<html>
    <head>
        <title>Redirecting...</title>
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script type="text/javascript" src="//ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
        <script>
            
            window.TeamKeep = {
                isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),
                signIn: function(token, redirect) {
                    var now = new Date();
                    now.setFullYear(now.getFullYear() + 1);
                    document.cookie = "teamkeep-token=" + token.AsString + ";path=/;expires=" + now.toGMTString();
                    document.location = redirect;
                }
            };

            /*$(function () {
                if (window.viewData) {
        
                    var TeamViewModel = function (data) {
                        ko.mapping.fromJS(data, {}, this);
                    };

                    if (window.viewData.Team) {
                        window.teamViewModel = ko.mapping.fromJS(window.viewData.Team, ko.mapping.toViewModel(TeamViewModel));
                    }
                    $("#alert-modal").fadeAlert();
                }
            });*/

            TeamKeep.signIn(@Html.Raw(Json.Encode(Model.AuthToken)), "@Model.Redirect");
        </script>
    </head>
    <body></body>
</html>
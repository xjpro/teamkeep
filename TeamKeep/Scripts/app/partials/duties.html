<div class="table-container stacks">
    <div class="table-controls">
        
        <div style="clear: both;"></div>
    </div>
    <table when-focused="preventSorting">
        <thead>
            <tr>
                <th class="icon"></th>
                <th class="icon"></th>
                <th class="name">Assigned to</th>
                <th class="max">Duty</th>
            </tr>
        </thead>
        <tbody ng-hide="events.length > 0">
            <tr>
                <td class="fullinfo" colspan="5">
                    No events have been posted for this team
                </td>
            </tr>
        </tbody>
        <tbody ng-repeat="event in events">
            <tr>
                <td class="heading" colspan="4">
                    <span>
                        <i ng-class="eventTypeIcon(event.Type)"></i> &nbsp; {{ event.OpponentName || '[Untitled]' }}
                    </span>
                    <div class="pull-right">
                        {{ event.When }}
                        <button class="btn btn-mini"><i class="icon-plus-sign-alt"></i> Add</button>
                    </div>
                </td>
            </tr>

            <tr ng-repeat="duty in event.Duties">
                <td class="button">
                    <a id="dropLabel" class="dropdown-toggle" role="button" data-toggle="dropdown" data-target="#"><i class="icon-edit"></i></a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dropLabel">
                        <li><a tabindex="-1" ng-click="">Remove</a></li>
                    </ul>
                </td>
                <td class="icon">
                    
                </td>
                <td class="name">
                    <button class="btn btn-link dropdown-toggle" data-toggle="dropdown" tabindex="-1">
                        {{ playerName(duty.PlayerId) }}
                    </button>
                    <ul class="dropdown-menu">
                        <li ng-repeat="player in players">
                            <a tabindex="-1" ng-click="">{{ player.FirstName + ' ' + player.LastName }}</a>
                        </li>
                    </ul>
                </td>
                <td class="max">
                    <input class="mod" type="text" ng-model="duty.Name" complete-update ng-readonly="!editable" />
                </td>
            </tr>            
        </tbody>
    </table>
</div>